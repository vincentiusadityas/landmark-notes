(this["webpackJsonpmy-community-landmark"]=this["webpackJsonpmy-community-landmark"]||[]).push([[0],{165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},175:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),o=a.n(r),i=(a(165),a(166),a(35)),s=a(15),l=a(13),j=a(238),u=a(240),d=a(241),b=a(242),h=a(243),O=a(146),x=a(261),m=a(129),p=a.n(m),g=a(130),f=a.n(g),v=a(121),C=(a(167),a(2)),k=Object(j.a)((function(e){return{row:{flexGrow:1},grow:{flexGrow:1},container:{width:"100%",margin:"auto"},buttonFontSize:{fontSize:"11px",color:"#1976d2"},AppBar:{backgroundColor:"#fff",backgroundSize:"cover"},mainLogo:{color:"#a1a1a1",justifyContent:"center","&:hover":{background:"transparent"}},avatar:{height:"100%",borderRadius:0},desktopNav:{"@media screen and (max-width:600px)":{display:"none"}},mobileNav:{display:"none","@media screen and (max-width:600px)":{display:"block"}},navLink:{textDecoration:"none"}}}));function y(){var e=k(),t=c.a.useState(null),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Boolean(n),s=function(){r(null)};return Object(C.jsx)("div",{className:e.root,children:Object(C.jsx)(u.a,{position:"static",color:"default",className:e.AppBar,children:Object(C.jsx)(d.a,{item:!0,sm:12,xs:12,className:e.container,children:Object(C.jsxs)(b.a,{children:[Object(C.jsx)(d.a,{className:e.grow,children:Object(C.jsx)(h.a,{className:e.mainLogo,children:Object(C.jsx)(p.a,{color:"primary",size:"large"})})}),Object(C.jsxs)("div",{className:e.desktopNav,children:[Object(C.jsx)(i.b,{className:e.navLink,to:"/",children:Object(C.jsx)(h.a,{color:"inherit",className:e.buttonFontSize,children:"Home"})}),Object(C.jsx)(i.b,{className:e.navLink,to:"/notes",children:Object(C.jsx)(h.a,{color:"inherit",className:e.buttonFontSize,children:"Saved Notes"})}),Object(C.jsx)(h.a,{color:"inherit",disabled:!0,children:"Login"}),Object(C.jsx)(h.a,{color:"inherit",disabled:!0,children:"Signup"})]}),Object(C.jsxs)("div",{className:e.mobileNav,children:[Object(C.jsx)(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(C.jsx)(f.a,{color:"primary",size:"large"})}),Object(C.jsxs)(O.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:s,children:[Object(C.jsx)(x.a,{onClick:s,component:i.b,to:"/",children:"Home"}),Object(C.jsx)(x.a,{onClick:s,component:i.b,to:"/notes",children:"Saved Notes"}),Object(C.jsx)(x.a,{onClick:s,disabled:!0,children:"Login"}),Object(C.jsx)(x.a,{onClick:s,disabled:!0,children:"Signup"})]})]})]})})})})}var S=a(44),N=a.n(S),w=a(73),L=a(148),P=a(147),z=a(133),F=a.n(z),T=a(262),M=a(245),B=a(6),A=(a(175),Object(j.a)((function(e){return{curLocButton:{marginBottom:10}}}))),E={position:"absolute",transform:"translate(-50%, -50%)"},I=Object(B.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(T.a),R=function(e){var t=e.lat,a=e.lng,n=e.clickedMarker;return Object(C.jsx)(I,{title:Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)(M.a,{color:"inherit",children:n?"Clicked Location":"My Location"}),Object(C.jsx)("em",{children:Object(C.jsx)("b",{children:"Lat: ".concat(t)})}),Object(C.jsx)("br",{}),Object(C.jsx)("em",{children:Object(C.jsx)("b",{children:"Long: ".concat(a)})})]}),interactive:!0,children:Object(C.jsx)(F.a,{className:"mapMarker",style:E,color:n?"secondary":"primary"})})};function D(e){var t=e.coord,a=e.setChosenCoord,r=Object(n.useState)(6),o=Object(l.a)(r,2),i=o[0],s=o[1],j=Object(n.useState)(t),u=Object(l.a)(j,2),d=u[0],b=u[1],O=Object(n.useState)(t),x=Object(l.a)(O,2),m=x[0],p=x[1],g=Object(n.useState)(null),f=Object(l.a)(g,2),v=f[0],k=f[1];c.a.useEffect((function(){}));var y=A();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{size:"small",variant:"contained",color:"primary",className:y.curLocButton,onClick:function(e){var t;navigator.geolocation?null===(t=navigator)||void 0===t||t.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};p(t),b(t),s(12),a(t)}),(function(e){console.log(e),alert("Error: The Geolocation service failed.")}),{maximumAge:1e4,timeout:5e3,enableHighAccuracy:!0}):(console.log("error"),alert("Error: Your browser doesn't support geolocation."))},children:"Pan To Current Location"}),Object(C.jsx)("div",{style:{height:"300px",width:"100%"},children:Object(C.jsxs)(P.a,{bootstrapURLKeys:{key:"AIzaSyD91UUOqIGPV_RD4OZx1bV5DLA8azQhwQU"},options:{fullscreenControl:!1},center:d,zoom:i,onClick:function(e){k({lat:e.lat,lng:e.lng}),b({lat:e.lat,lng:e.lng}),a({lat:e.lat,lng:e.lng})},onChange:function(e){b(e.center)},onChildClick:function(e,t){a({lat:t.lat,lng:t.lng})},children:[Object(C.jsx)(R,{lat:m.lat,lng:m.lng}),v?Object(C.jsx)(R,{lat:v.lat,lng:v.lng,clickedMarker:!0}):Object(C.jsx)(C.Fragment,{})]})})]})}var U=a(103),W=a(246),G=a(256),H=a(260),V=a(255),J=a(134),Y=a.n(J),Q=Object(j.a)((function(e){return{gridRoot:{marginBlock:10},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(1)},title:{marginTop:15,color:"#115293"},user:{marginBottom:10,width:"150px"},notes:{marginTop:13}}}));function q(e){return Object(C.jsx)(V.a,Object(L.a)({elevation:6,variant:"filled"},e))}function K(){var e=Q(),t=c.a.useState("Guest"),a=Object(l.a)(t,2),n=a[0],r=a[1],o=c.a.useState({lat:-34.397,lng:150.644}),s=Object(l.a)(o,1)[0],j=c.a.useState(s),u=Object(l.a)(j,2),b=u[0],O=u[1],x=c.a.useState(""),m=Object(l.a)(x,2),p=m[0],g=m[1],f=c.a.useState(!1),v=Object(l.a)(f,2),k=v[0],y=v[1],S=c.a.useState(null),L=Object(l.a)(S,2),P=L[0],z=L[1],F=function(e,t){"clickaway"!==t&&y(!1)},T=function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=8;break}return t={user:n,coords:b,notes:p},e.next=4,B(t);case 4:g(""),z("success"),e.next=9;break;case 8:z("error");case 9:y(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(W.a,{maxWidth:!1,children:[Object(C.jsx)(M.a,{variant:"h5",className:e.title,children:"My Community Landmark"}),Object(C.jsxs)(d.a,{container:!0,spacing:2,className:e.gridRoot,children:[Object(C.jsx)(d.a,{item:!0,md:6,sm:6,xs:12,children:Object(C.jsx)(U.a,{className:e.paper,elevation:3,children:Object(C.jsx)(D,{coord:s,setChosenCoord:O})})}),Object(C.jsx)(d.a,{item:!0,md:6,sm:6,xs:12,children:Object(C.jsxs)(U.a,{className:e.paper,elevation:3,children:[Object(C.jsxs)(M.a,{variant:"h6",children:["Hello, ",Object(C.jsx)(G.a,{className:e.user,defaultValue:n,placeholder:"Your name here!",onChange:function(e){r(e.target.value)}}),"!"]}),Object(C.jsx)(M.a,{variant:"body1",children:"Your chosen location coordinate is:"}),Object(C.jsxs)(M.a,{variant:"overline",children:["Latitude: ",b.lat]}),Object(C.jsx)("br",{}),Object(C.jsxs)(M.a,{variant:"overline",children:["Longitude: ",b.lng]}),Object(C.jsx)(M.a,{variant:"body1",className:e.notes,children:"Write your notes below!"}),Object(C.jsx)(G.a,{id:"filled-multiline-static",label:"My Notes",multiline:!0,rows:5,fullWidth:!0,placeholder:"This is a great location!",value:p,onChange:function(e){g(e.target.value)},variant:"filled"}),Object(C.jsx)(h.a,{variant:"contained",color:"primary",size:"small",className:e.button,startIcon:Object(C.jsx)(Y.a,{}),onClick:T,children:"Save"})]})})]})]}),Object(C.jsx)(H.a,{open:k,autoHideDuration:6e3,onClose:F,children:"error"===P?Object(C.jsx)(q,{onClose:F,severity:"error",children:"Cannot save empty notes!"}):"success"===P?Object(C.jsxs)(q,{onClose:F,severity:"success",children:["Successfully saved your notes! Check it ",Object(C.jsx)(i.b,{to:"/notes",children:"here"}),"."]}):Object(C.jsx)(C.Fragment,{})})]})}var Z=a(29),_=a(249),X=a(250),$=a(253),ee=a(252),te=a(248),ae=a(254),ne=a(259),ce=a(251),re=a(106),oe=a.n(re),ie=a(136),se=a.n(ie),le=a(107),je=a.n(le),ue=a(109),de=a.n(ue),be=a(108),he=a.n(be),Oe=a(135),xe=a.n(Oe),me=Object(j.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function pe(e){var t=me(),a=Object(Z.a)(),n=e.count,c=e.page,r=e.rowsPerPage,o=e.onChangePage;return Object(C.jsxs)("div",{className:t.root,children:[Object(C.jsx)(v.a,{onClick:function(e){o(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===a.direction?Object(C.jsx)(oe.a,{}):Object(C.jsx)(je.a,{})}),Object(C.jsx)(v.a,{onClick:function(e){o(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===a.direction?Object(C.jsx)(he.a,{}):Object(C.jsx)(de.a,{})}),Object(C.jsx)(v.a,{onClick:function(e){o(e,c+1)},disabled:c>=Math.ceil(n/r)-1,"aria-label":"next page",children:"rtl"===a.direction?Object(C.jsx)(de.a,{}):Object(C.jsx)(he.a,{})}),Object(C.jsx)(v.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/r)-1))},disabled:c>=Math.ceil(n/r)-1,"aria-label":"last page",children:"rtl"===a.direction?Object(C.jsx)(je.a,{}):Object(C.jsx)(oe.a,{})})]})}var ge=Object(j.a)({table:{minWidth:500}});function fe(e){var t=e.data,a=ge(),n=c.a.useState(0),r=Object(l.a)(n,2),o=r[0],i=r[1],s=c.a.useState(t),j=Object(l.a)(s,2),u=j[0],d=j[1],b=c.a.useState(5),h=Object(l.a)(b,2),m=h[0],p=h[1],g=c.a.useState("username"),f=Object(l.a)(g,2),v=f[0],k=f[1];c.a.useEffect((function(){d(t)}),[t]);var y=c.a.useState(""),S=Object(l.a)(y,2),N=S[0],w=S[1],L=m-Math.min(m,t.length-o*m),P=function(e){var a=t.filter((function(t){return"username"===v?t.user.toLowerCase().includes(e.toLowerCase()):"notes"===v?t.notes.toLowerCase().includes(e.toLowerCase()):t}));d(a)},z=c.a.useState(null),F=Object(l.a)(z,2),T=F[0],M=F[1],B=function(e){M(null);var t=e.currentTarget.dataset.myValue;"username"===t?k("username"):"notes"===t&&k("notes")};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(U.a,{children:[Object(C.jsx)(xe.a,{value:N,onChange:function(e){return P(e)},onCancelSearch:function(){return w(""),void P(N)},placeholder:"Search by ".concat(v),searchIcon:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(se.a,{"aria-label":"filter","aria-controls":"menu-appbar","aria-haspopup":"true",id:"filterIcon",onClick:function(e){M(e.currentTarget)},color:"primary",size:"large"}),Object(C.jsxs)(O.a,{id:"simple-menu",anchorEl:T,keepMounted:!0,open:Boolean(T),onClose:B,children:[Object(C.jsx)(x.a,{onClick:B,"data-my-value":"username",children:"Username"}),Object(C.jsx)(x.a,{onClick:B,"data-my-value":"notes",children:"Notes"})]})]})}),Object(C.jsx)(te.a,{children:Object(C.jsxs)(_.a,{className:a.table,"aria-label":"custom pagination table",children:[Object(C.jsx)(X.a,{children:Object(C.jsxs)(ce.a,{children:[Object(C.jsx)(ee.a,{children:"Username"}),Object(C.jsx)(ee.a,{children:"Latitude"}),Object(C.jsx)(ee.a,{children:"Longitude"}),Object(C.jsx)(ee.a,{children:"Notes"})]})}),Object(C.jsxs)($.a,{children:[(m>0?u.slice(o*m,o*m+m):u).map((function(e){return Object(C.jsxs)(ce.a,{children:[Object(C.jsx)(ee.a,{component:"th",scope:"row",children:e.user}),Object(C.jsx)(ee.a,{children:e.coords.lat}),Object(C.jsx)(ee.a,{children:e.coords.lng}),Object(C.jsx)(ee.a,{children:e.notes})]},e.id)})),L>0&&Object(C.jsx)(ce.a,{style:{height:53*L},children:Object(C.jsx)(ee.a,{colSpan:6})})]}),Object(C.jsx)(ae.a,{children:Object(C.jsx)(ce.a,{children:Object(C.jsx)(ne.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:4,count:t.length,rowsPerPage:m,page:o,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){p(parseInt(e.target.value,10)),i(0)},ActionsComponent:pe})})})]})})]})})}var ve=Object(j.a)((function(e){return{title:{marginTop:15,marginBottom:10,color:"#115293"}}}));function Ce(){var e=ve(),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],o=a[1];return c.a.useEffect((function(){(function(){var e=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes").then((function(e){return e.json()})).then((function(e){o(e.notes)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(W.a,{maxWidth:!1,children:[Object(C.jsx)(M.a,{variant:"h5",className:e.title,children:"Saved Notes"}),Object(C.jsx)(fe,{data:r})]})})}function ke(){return Object(C.jsx)(i.a,{children:Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(y,{}),Object(C.jsxs)("div",{className:"content",children:[Object(C.jsx)(s.a,{exact:!0,path:"/",component:K}),Object(C.jsx)(s.a,{path:"/notes",component:Ce})]})]})})}var ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,264)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};a(113);o.a.render(Object(C.jsx)(ke,{}),document.getElementById("root")),ye()}},[[205,1,2]]]);
//# sourceMappingURL=main.bed1f04f.chunk.js.map