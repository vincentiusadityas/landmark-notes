(this["webpackJsonpmy-community-landmark"]=this["webpackJsonpmy-community-landmark"]||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},175:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),i=(n(165),n(166),n(32)),s=n(15),l=n(13),j=n(237),d=n(239),u=n(240),b=n(241),h=n(242),O=n(146),m=n(259),x=n(129),g=n.n(x),p=n(130),f=n.n(p),v=n(121),k=(n(167),n(2)),y=Object(j.a)((function(e){return{row:{flexGrow:1},grow:{flexGrow:1},container:{width:"100%",margin:"auto"},buttonFontSize:{fontSize:"11px",color:"#1976d2"},AppBar:{backgroundColor:"#fff",backgroundSize:"cover"},mainLogo:{color:"#a1a1a1",justifyContent:"center","&:hover":{background:"transparent"}},avatar:{height:"100%",borderRadius:0},desktopNav:{"@media screen and (max-width:600px)":{display:"none"}},mobileNav:{display:"none","@media screen and (max-width:600px)":{display:"block"}},navLink:{textDecoration:"none"}}}));function C(){var e=y(),t=r.a.useState(null),n=Object(l.a)(t,2),a=n[0],c=n[1],o=Boolean(a),s=function(){c(null)};return Object(k.jsx)("div",{className:e.root,children:Object(k.jsx)(d.a,{position:"static",color:"default",className:e.AppBar,children:Object(k.jsx)(u.a,{item:!0,sm:12,xs:12,className:e.container,children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(u.a,{className:e.grow,children:Object(k.jsx)(i.b,{className:e.navLink,to:"/",children:Object(k.jsx)(h.a,{className:e.mainLogo,children:Object(k.jsx)(g.a,{color:"primary",size:"large"})})})}),Object(k.jsxs)("div",{className:e.desktopNav,children:[Object(k.jsx)(i.b,{className:e.navLink,to:"/",children:Object(k.jsx)(h.a,{color:"inherit",className:e.buttonFontSize,children:"Home"})}),Object(k.jsx)(i.b,{className:e.navLink,to:"/notes",children:Object(k.jsx)(h.a,{color:"inherit",className:e.buttonFontSize,children:"Notes"})}),Object(k.jsx)(h.a,{color:"inherit",disabled:!0,children:"Login"}),Object(k.jsx)(h.a,{color:"inherit",disabled:!0,children:"Signup"})]}),Object(k.jsxs)("div",{className:e.mobileNav,children:[Object(k.jsx)(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(k.jsx)(f.a,{color:"primary",size:"large"})}),Object(k.jsxs)(O.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:s,children:[Object(k.jsx)(m.a,{onClick:s,component:i.b,to:"/",children:"Home"}),Object(k.jsx)(m.a,{onClick:s,component:i.b,to:"/notes",children:"Notes"}),Object(k.jsx)(m.a,{onClick:s,disabled:!0,children:"Login"}),Object(k.jsx)(m.a,{onClick:s,disabled:!0,children:"Signup"})]})]})]})})})})}var N=n(44),S=n.n(N),w=n(73),L=n(148),B=n(147),z=n(133),P=n.n(z),T=n(260),F=n(244),M=n(6),A=(n(175),Object(j.a)((function(e){return{curLocButton:{marginBottom:10}}}))),I={position:"absolute",transform:"translate(-50%, -50%)"},R=Object(M.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(T.a),D=function(e){var t=e.lat,n=e.lng,a=e.clickedMarker;return Object(k.jsx)(R,{title:Object(k.jsxs)(r.a.Fragment,{children:[Object(k.jsx)(F.a,{color:"inherit",children:a?"Clicked Location":"My Location"}),Object(k.jsx)("em",{children:Object(k.jsx)("b",{children:"Lat: ".concat(t)})}),Object(k.jsx)("br",{}),Object(k.jsx)("em",{children:Object(k.jsx)("b",{children:"Long: ".concat(n)})})]}),interactive:!0,children:Object(k.jsx)(P.a,{className:"mapMarker",style:I,color:a?"secondary":"primary"})})};function E(e){var t=e.coord,n=e.setChosenCoord,c=Object(a.useState)(6),o=Object(l.a)(c,2),i=o[0],s=o[1],j=Object(a.useState)(t),d=Object(l.a)(j,2),u=d[0],b=d[1],O=Object(a.useState)(t),m=Object(l.a)(O,2),x=m[0],g=m[1],p=Object(a.useState)(null),f=Object(l.a)(p,2),v=f[0],y=f[1];r.a.useEffect((function(){}));var C=A();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{size:"small",variant:"contained",color:"primary",className:C.curLocButton,onClick:function(e){var t;navigator.geolocation?null===(t=navigator)||void 0===t||t.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};g(t),b(t),s(12),n(t)}),(function(e){console.log(e),alert("Error: The Geolocation service failed.")}),{maximumAge:1e4,timeout:5e3,enableHighAccuracy:!0}):(console.log("error"),alert("Error: Your browser doesn't support geolocation."))},children:"Pan To Current Location"}),Object(k.jsx)("div",{style:{height:"300px",width:"100%"},children:Object(k.jsxs)(B.a,{bootstrapURLKeys:{key:"AIzaSyD91UUOqIGPV_RD4OZx1bV5DLA8azQhwQU"},options:{fullscreenControl:!1},center:u,zoom:i,onClick:function(e){y({lat:e.lat,lng:e.lng}),b({lat:e.lat,lng:e.lng}),n({lat:e.lat,lng:e.lng})},onChange:function(e){b(e.center)},onChildClick:function(e,t){n({lat:t.lat,lng:t.lng})},children:[Object(k.jsx)(D,{lat:x.lat,lng:x.lng}),v?Object(k.jsx)(D,{lat:v.lat,lng:v.lng,clickedMarker:!0}):Object(k.jsx)(k.Fragment,{})]})})]})}var J=n(103),W=n(245),H=n(254),G=n(258),U=n(253),V=n(134),Y=n.n(V),q=Object(j.a)((function(e){return{gridRoot:{marginBlock:10},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(1)},title:{marginTop:15,color:"#115293"},user:{marginBottom:10,width:"150px"},notes:{marginTop:13}}}));function Q(e){return Object(k.jsx)(U.a,Object(L.a)({elevation:6,variant:"filled"},e))}function _(){var e=q(),t=r.a.useState("Guest"),n=Object(l.a)(t,2),a=n[0],c=n[1],o=r.a.useState({lat:-34.397,lng:150.644}),s=Object(l.a)(o,1)[0],j=r.a.useState(s),d=Object(l.a)(j,2),b=d[0],O=d[1],m=r.a.useState(""),x=Object(l.a)(m,2),g=x[0],p=x[1],f=r.a.useState(!1),v=Object(l.a)(f,2),y=v[0],C=v[1],N=r.a.useState(null),L=Object(l.a)(N,2),B=L[0],z=L[1],P=function(e,t){"clickaway"!==t&&C(!1)},T=function(){var e=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=8;break}return t={user:a,coords:b,notes:g},e.next=4,M(t);case 4:p(""),z("success"),e.next=9;break;case 8:z("error");case 9:C(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(W.a,{maxWidth:!1,children:[Object(k.jsx)(F.a,{variant:"h5",className:e.title,children:"My Community Landmark"}),Object(k.jsxs)(u.a,{container:!0,spacing:2,className:e.gridRoot,children:[Object(k.jsx)(u.a,{item:!0,md:6,sm:6,xs:12,children:Object(k.jsx)(J.a,{className:e.paper,elevation:3,children:Object(k.jsx)(E,{coord:s,setChosenCoord:O})})}),Object(k.jsx)(u.a,{item:!0,md:6,sm:6,xs:12,children:Object(k.jsxs)(J.a,{className:e.paper,elevation:3,children:[Object(k.jsxs)(F.a,{variant:"h6",children:["Hello, ",Object(k.jsx)(H.a,{className:e.user,defaultValue:a,placeholder:"Your name here!",onChange:function(e){c(e.target.value)}}),"!"]}),Object(k.jsx)(F.a,{variant:"body1",children:"Your chosen location coordinate is:"}),Object(k.jsxs)(F.a,{variant:"overline",children:["Latitude: ",b.lat]}),Object(k.jsx)("br",{}),Object(k.jsxs)(F.a,{variant:"overline",children:["Longitude: ",b.lng]}),Object(k.jsx)(F.a,{variant:"body1",className:e.notes,children:"Write your notes below!"}),Object(k.jsx)(H.a,{id:"filled-multiline-static",label:"My Notes",multiline:!0,rows:5,fullWidth:!0,placeholder:"This is a great location!",value:g,onChange:function(e){p(e.target.value)},variant:"filled"}),Object(k.jsx)(h.a,{variant:"contained",color:"primary",size:"small",className:e.button,startIcon:Object(k.jsx)(Y.a,{}),onClick:T,children:"Save"})]})})]})]}),Object(k.jsx)(G.a,{open:y,autoHideDuration:6e3,onClose:P,children:"error"===B?Object(k.jsx)(Q,{onClose:P,severity:"error",children:"Cannot save empty notes!"}):"success"===B?Object(k.jsxs)(Q,{onClose:P,severity:"success",children:["Successfully saved your notes! Check it ",Object(k.jsx)(i.b,{to:"/notes",children:"here"}),"."]}):Object(k.jsx)(k.Fragment,{})})]})}var K=n(29),Z=n(248),X=n(249),$=n(252),ee=n(251),te=n(247),ne=n(257),ae=n(250),re=n(106),ce=n.n(re),oe=n(136),ie=n.n(oe),se=n(107),le=n.n(se),je=n(109),de=n.n(je),ue=n(108),be=n.n(ue),he=n(135),Oe=n.n(he),me=Object(j.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function xe(e){var t=me(),n=Object(K.a)(),a=e.count,r=e.page,c=e.rowsPerPage,o=e.onChangePage;return Object(k.jsxs)("div",{className:t.root,children:[Object(k.jsx)(v.a,{onClick:function(e){o(e,0)},disabled:0===r,"aria-label":"first page",children:"rtl"===n.direction?Object(k.jsx)(ce.a,{}):Object(k.jsx)(le.a,{})}),Object(k.jsx)(v.a,{onClick:function(e){o(e,r-1)},disabled:0===r,"aria-label":"previous page",children:"rtl"===n.direction?Object(k.jsx)(be.a,{}):Object(k.jsx)(de.a,{})}),Object(k.jsx)(v.a,{onClick:function(e){o(e,r+1)},disabled:r>=Math.ceil(a/c)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(k.jsx)(de.a,{}):Object(k.jsx)(be.a,{})}),Object(k.jsx)(v.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(a/c)-1))},disabled:r>=Math.ceil(a/c)-1,"aria-label":"last page",children:"rtl"===n.direction?Object(k.jsx)(le.a,{}):Object(k.jsx)(ce.a,{})})]})}var ge=Object(j.a)({root:{width:"100%"},table:{minWidth:500},container:{maxHeight:300},searchBar:{marginBottom:10}});function pe(e){var t=e.data,n=ge(),a=r.a.useState(0),c=Object(l.a)(a,2),o=c[0],i=c[1],s=r.a.useState(t),j=Object(l.a)(s,2),d=j[0],u=j[1],b=r.a.useState(5),h=Object(l.a)(b,2),x=h[0],g=h[1],p=r.a.useState("username"),f=Object(l.a)(p,2),v=f[0],y=f[1];r.a.useEffect((function(){u(t)}),[t]);var C=r.a.useState(""),N=Object(l.a)(C,2),S=N[0],w=N[1],L=function(e){var n=t.filter((function(t){return"username"===v?t.user.toLowerCase().includes(e.toLowerCase()):"notes"===v?t.notes.toLowerCase().includes(e.toLowerCase()):t}));u(n)},B=r.a.useState(null),z=Object(l.a)(B,2),P=z[0],T=z[1],F=function(e){T(null);var t=e.currentTarget.dataset.myValue;"username"===t?y("username"):"notes"===t&&y("notes")};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Oe.a,{className:n.searchBar,value:S,onChange:function(e){return L(e)},onCancelSearch:function(){return w(""),void L(S)},placeholder:"Search by ".concat(v),searchIcon:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ie.a,{"aria-label":"filter","aria-controls":"menu-appbar","aria-haspopup":"true",id:"filterIcon",onClick:function(e){T(e.currentTarget)},color:"primary",size:"large"}),Object(k.jsxs)(O.a,{id:"simple-menu",anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:F,children:[Object(k.jsx)(m.a,{onClick:F,"data-my-value":"username",children:"Username"}),Object(k.jsx)(m.a,{onClick:F,"data-my-value":"notes",children:"Notes"})]})]})}),Object(k.jsxs)(J.a,{className:n.root,children:[Object(k.jsx)(te.a,{className:n.container,children:Object(k.jsxs)(Z.a,{className:n.table,stickyHeader:!0,"aria-label":"custom pagination table",size:"medium",children:[Object(k.jsx)(X.a,{children:Object(k.jsxs)(ae.a,{children:[Object(k.jsx)(ee.a,{children:"Username"}),Object(k.jsx)(ee.a,{children:"Latitude"}),Object(k.jsx)(ee.a,{children:"Longitude"}),Object(k.jsx)(ee.a,{children:"Notes"})]})}),Object(k.jsx)($.a,{children:(x>0?d.slice(o*x,o*x+x):d).map((function(e){return Object(k.jsxs)(ae.a,{children:[Object(k.jsx)(ee.a,{component:"th",scope:"row",children:e.user}),Object(k.jsx)(ee.a,{children:e.coords.lat}),Object(k.jsx)(ee.a,{children:e.coords.lng}),Object(k.jsx)(ee.a,{children:e.notes})]},e.id)}))})]})}),Object(k.jsx)(ne.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:d.length}],component:"div",colSpan:4,count:d.length,rowsPerPage:x,page:o,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){g(parseInt(e.target.value,10)),i(0)},ActionsComponent:xe})]})]})}var fe=Object(j.a)((function(e){return{title:{marginTop:15,marginBottom:10,color:"#115293"}}}));function ve(){var e=fe(),t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1];return r.a.useEffect((function(){(function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes").then((function(e){return e.json()})).then((function(e){o(e.notes)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(W.a,{maxWidth:!1,children:[Object(k.jsx)(F.a,{variant:"h5",className:e.title,children:"Saved Notes"}),Object(k.jsx)(pe,{data:c})]})})}var ke=Object(j.a)((function(e){return{footer:{WebkitBoxSizing:"border-box",boxSizing:"border-box",marginTop:20,marginBottom:20,marginLeft:"auto",marginRight:"auto",paddingLeft:"auto",paddingRight:"auto",textAlign:"center!important",color:"#115293"},love:{color:"red"},link:{textDecoration:"none",color:"black","&:hover":{textDecoration:"underline",color:"#115293"}}}}));function ye(){var e=ke();return Object(k.jsx)("footer",{children:Object(k.jsxs)("div",{className:e.footer,children:["Made with ",Object(k.jsx)("span",{className:e.love,children:"\u2665"})," by ",Object(k.jsx)("a",{className:e.link,href:"https://vincentiusadityas.dev/",rel:"noreferrer",target:"_blank",children:"vincentiusadityas.dev"})]})})}function Ce(){return Object(k.jsx)(i.a,{basename:"/landmark-notes",children:Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(C,{}),Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)(s.a,{exact:!0,path:"/",component:_}),Object(k.jsx)(s.a,{path:"/notes",component:ve})]}),Object(k.jsx)(ye,{})]})})}var Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,262)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},Se=n(113);(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).environment,t=void 0===e?"test":e;Object(Se.b)({environment:t,models:{note:Se.a},seeds:function(e){e.create("note",{id:0,user:"Bob",coords:{lat:-27.491629500000002,lng:153.00299619999998},notes:"It's a great place"}),e.create("note",{id:1,user:"Alice",coords:{lat:-34.397,lng:150.644},notes:"I like this place!"}),e.create("note",{id:2,user:"John",coords:{lat:-69.02297,lng:74.23768},notes:"Brrrrrr.. Really cold here.."}),e.create("note",{id:3,user:"Robert",coords:{lat:-37.63893143867902,lng:144.88835026943684},notes:"I wanna visit Melbourne again!"}),e.create("note",{id:4,user:"James",coords:{lat:35.72028634773537,lng:139.77534090889898},notes:"Japan is such a cool country! Especially Tokyo!"}),e.create("note",{id:5,user:"Mary",coords:{lat:37.55572531703634,lng:126.98968469145777},notes:"Seoulllllll! Woohoooo"}),e.create("note",{id:6,user:"Jessica",coords:{lat:-27.469895552795226,lng:153.02340426687286},notes:"Brisbane City!!!"}),e.create("note",{id:7,user:"David",coords:{lat:-26.648585573840624,lng:153.06698588396966},notes:"I like Sunshine Coast better than Gold Coast :D"})},routes:function(){this.namespace="/api",this.get("/notes",(function(e){return e.notes.all()})),this.post("/notes",(function(e,t){var n=JSON.parse(t.requestBody);return e.notes.create(n)}))}})})({environment:"production"}),o.a.render(Object(k.jsx)(Ce,{}),document.getElementById("root")),Ne()}},[[205,1,2]]]);
//# sourceMappingURL=main.2f31d321.chunk.js.map