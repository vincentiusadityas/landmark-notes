(this["webpackJsonpmy-community-landmark"]=this["webpackJsonpmy-community-landmark"]||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},175:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),s=(n(165),n(166),n(32)),i=n(15),l=n(13),j=n(238),u=n(240),d=n(241),b=n(242),h=n(243),O=n(146),m=n(260),x=n(129),p=n.n(x),g=n(130),f=n.n(g),v=n(121),y=(n(167),n(2)),C=Object(j.a)((function(e){return{row:{flexGrow:1},grow:{flexGrow:1},container:{width:"100%",margin:"auto"},buttonFontSize:{fontSize:"11px",color:"#1976d2"},AppBar:{backgroundColor:"#fff",backgroundSize:"cover"},mainLogo:{color:"#a1a1a1",justifyContent:"center","&:hover":{background:"transparent"}},avatar:{height:"100%",borderRadius:0},desktopNav:{"@media screen and (max-width:600px)":{display:"none"}},mobileNav:{display:"none","@media screen and (max-width:600px)":{display:"block"}},navLink:{textDecoration:"none"}}}));function k(){var e=C(),t=c.a.useState(null),n=Object(l.a)(t,2),a=n[0],r=n[1],o=Boolean(a),i=function(){r(null)};return Object(y.jsx)("div",{className:e.root,children:Object(y.jsx)(u.a,{position:"static",color:"default",className:e.AppBar,children:Object(y.jsx)(d.a,{item:!0,sm:12,xs:12,className:e.container,children:Object(y.jsxs)(b.a,{children:[Object(y.jsx)(d.a,{className:e.grow,children:Object(y.jsx)(s.b,{className:e.navLink,to:"/",children:Object(y.jsx)(h.a,{className:e.mainLogo,children:Object(y.jsx)(p.a,{color:"primary",size:"large"})})})}),Object(y.jsxs)("div",{className:e.desktopNav,children:[Object(y.jsx)(s.b,{className:e.navLink,to:"/",children:Object(y.jsx)(h.a,{color:"inherit",className:e.buttonFontSize,children:"Home"})}),Object(y.jsx)(s.b,{className:e.navLink,to:"/notes",children:Object(y.jsx)(h.a,{color:"inherit",className:e.buttonFontSize,children:"Notes"})}),Object(y.jsx)(h.a,{color:"inherit",disabled:!0,children:"Login"}),Object(y.jsx)(h.a,{color:"inherit",disabled:!0,children:"Signup"})]}),Object(y.jsxs)("div",{className:e.mobileNav,children:[Object(y.jsx)(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)},color:"inherit",children:Object(y.jsx)(f.a,{color:"primary",size:"large"})}),Object(y.jsxs)(O.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:i,children:[Object(y.jsx)(m.a,{onClick:i,component:s.b,to:"/",children:"Home"}),Object(y.jsx)(m.a,{onClick:i,component:s.b,to:"/notes",children:"Notes"}),Object(y.jsx)(m.a,{onClick:i,disabled:!0,children:"Login"}),Object(y.jsx)(m.a,{onClick:i,disabled:!0,children:"Signup"})]})]})]})})})})}var N=n(44),S=n.n(N),w=n(73),L=n(148),B=n(147),z=n(133),P=n.n(z),F=n(261),M=n(245),T=n(6),A=(n(175),Object(j.a)((function(e){return{curLocButton:{marginBottom:10}}}))),I={position:"absolute",transform:"translate(-50%, -50%)"},E=Object(T.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(F.a),R=function(e){var t=e.lat,n=e.lng,a=e.clickedMarker;return Object(y.jsx)(E,{title:Object(y.jsxs)(c.a.Fragment,{children:[Object(y.jsx)(M.a,{color:"inherit",children:a?"Clicked Location":"My Location"}),Object(y.jsx)("em",{children:Object(y.jsx)("b",{children:"Lat: ".concat(t)})}),Object(y.jsx)("br",{}),Object(y.jsx)("em",{children:Object(y.jsx)("b",{children:"Long: ".concat(n)})})]}),interactive:!0,children:Object(y.jsx)(P.a,{className:"mapMarker",style:I,color:a?"secondary":"primary"})})};function D(e){var t=e.coord,n=e.setChosenCoord,r=Object(a.useState)(6),o=Object(l.a)(r,2),s=o[0],i=o[1],j=Object(a.useState)(t),u=Object(l.a)(j,2),d=u[0],b=u[1],O=Object(a.useState)(t),m=Object(l.a)(O,2),x=m[0],p=m[1],g=Object(a.useState)(null),f=Object(l.a)(g,2),v=f[0],C=f[1];c.a.useEffect((function(){}));var k=A();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.a,{size:"small",variant:"contained",color:"primary",className:k.curLocButton,onClick:function(e){var t;navigator.geolocation?null===(t=navigator)||void 0===t||t.geolocation.getCurrentPosition((function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude};p(t),b(t),i(12),n(t)}),(function(e){console.log(e),alert("Error: The Geolocation service failed.")}),{maximumAge:1e4,timeout:5e3,enableHighAccuracy:!0}):(console.log("error"),alert("Error: Your browser doesn't support geolocation."))},children:"Pan To Current Location"}),Object(y.jsx)("div",{style:{height:"300px",width:"100%"},children:Object(y.jsxs)(B.a,{bootstrapURLKeys:{key:"AIzaSyD91UUOqIGPV_RD4OZx1bV5DLA8azQhwQU"},options:{fullscreenControl:!1},center:d,zoom:s,onClick:function(e){C({lat:e.lat,lng:e.lng}),b({lat:e.lat,lng:e.lng}),n({lat:e.lat,lng:e.lng})},onChange:function(e){b(e.center)},onChildClick:function(e,t){n({lat:t.lat,lng:t.lng})},children:[Object(y.jsx)(R,{lat:x.lat,lng:x.lng}),v?Object(y.jsx)(R,{lat:v.lat,lng:v.lng,clickedMarker:!0}):Object(y.jsx)(y.Fragment,{})]})})]})}var J=n(103),H=n(246),W=n(255),G=n(259),U=n(254),V=n(134),Y=n.n(V),q=Object(j.a)((function(e){return{gridRoot:{marginBlock:10},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(1)},title:{marginTop:15,color:"#115293"},user:{marginBottom:10,width:"150px"},notes:{marginTop:13}}}));function Q(e){return Object(y.jsx)(U.a,Object(L.a)({elevation:6,variant:"filled"},e))}function K(){var e=q(),t=c.a.useState("Guest"),n=Object(l.a)(t,2),a=n[0],r=n[1],o=c.a.useState({lat:-34.397,lng:150.644}),i=Object(l.a)(o,1)[0],j=c.a.useState(i),u=Object(l.a)(j,2),b=u[0],O=u[1],m=c.a.useState(""),x=Object(l.a)(m,2),p=x[0],g=x[1],f=c.a.useState(!1),v=Object(l.a)(f,2),C=v[0],k=v[1],N=c.a.useState(null),L=Object(l.a)(N,2),B=L[0],z=L[1],P=function(e,t){"clickaway"!==t&&k(!1)},F=function(){var e=Object(w.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=8;break}return t={user:a,coords:b,notes:p},e.next=4,T(t);case 4:g(""),z("success"),e.next=9;break;case 8:z("error");case 9:k(!0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(w.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(H.a,{maxWidth:!1,children:[Object(y.jsx)(M.a,{variant:"h5",className:e.title,children:"My Community Landmark"}),Object(y.jsxs)(d.a,{container:!0,spacing:2,className:e.gridRoot,children:[Object(y.jsx)(d.a,{item:!0,md:6,sm:6,xs:12,children:Object(y.jsx)(J.a,{className:e.paper,elevation:3,children:Object(y.jsx)(D,{coord:i,setChosenCoord:O})})}),Object(y.jsx)(d.a,{item:!0,md:6,sm:6,xs:12,children:Object(y.jsxs)(J.a,{className:e.paper,elevation:3,children:[Object(y.jsxs)(M.a,{variant:"h6",children:["Hello, ",Object(y.jsx)(W.a,{className:e.user,defaultValue:a,placeholder:"Your name here!",onChange:function(e){r(e.target.value)}}),"!"]}),Object(y.jsx)(M.a,{variant:"body1",children:"Your chosen location coordinate is:"}),Object(y.jsxs)(M.a,{variant:"overline",children:["Latitude: ",b.lat]}),Object(y.jsx)("br",{}),Object(y.jsxs)(M.a,{variant:"overline",children:["Longitude: ",b.lng]}),Object(y.jsx)(M.a,{variant:"body1",className:e.notes,children:"Write your notes below!"}),Object(y.jsx)(W.a,{id:"filled-multiline-static",label:"My Notes",multiline:!0,rows:5,fullWidth:!0,placeholder:"This is a great location!",value:p,onChange:function(e){g(e.target.value)},variant:"filled"}),Object(y.jsx)(h.a,{variant:"contained",color:"primary",size:"small",className:e.button,startIcon:Object(y.jsx)(Y.a,{}),onClick:F,children:"Save"})]})})]})]}),Object(y.jsx)(G.a,{open:C,autoHideDuration:6e3,onClose:P,children:"error"===B?Object(y.jsx)(Q,{onClose:P,severity:"error",children:"Cannot save empty notes!"}):"success"===B?Object(y.jsxs)(Q,{onClose:P,severity:"success",children:["Successfully saved your notes! Check it ",Object(y.jsx)(s.b,{to:"/notes",children:"here"}),"."]}):Object(y.jsx)(y.Fragment,{})})]})}var Z=n(29),_=n(249),X=n(250),$=n(253),ee=n(252),te=n(248),ne=n(258),ae=n(251),ce=n(106),re=n.n(ce),oe=n(136),se=n.n(oe),ie=n(107),le=n.n(ie),je=n(109),ue=n.n(je),de=n(108),be=n.n(de),he=n(135),Oe=n.n(he),me=Object(j.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}}));function xe(e){var t=me(),n=Object(Z.a)(),a=e.count,c=e.page,r=e.rowsPerPage,o=e.onChangePage;return Object(y.jsxs)("div",{className:t.root,children:[Object(y.jsx)(v.a,{onClick:function(e){o(e,0)},disabled:0===c,"aria-label":"first page",children:"rtl"===n.direction?Object(y.jsx)(re.a,{}):Object(y.jsx)(le.a,{})}),Object(y.jsx)(v.a,{onClick:function(e){o(e,c-1)},disabled:0===c,"aria-label":"previous page",children:"rtl"===n.direction?Object(y.jsx)(be.a,{}):Object(y.jsx)(ue.a,{})}),Object(y.jsx)(v.a,{onClick:function(e){o(e,c+1)},disabled:c>=Math.ceil(a/r)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(y.jsx)(ue.a,{}):Object(y.jsx)(be.a,{})}),Object(y.jsx)(v.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(a/r)-1))},disabled:c>=Math.ceil(a/r)-1,"aria-label":"last page",children:"rtl"===n.direction?Object(y.jsx)(le.a,{}):Object(y.jsx)(re.a,{})})]})}var pe=Object(j.a)({root:{width:"100%"},table:{minWidth:500},container:{maxHeight:300},searchBar:{marginBottom:10}});function ge(e){var t=e.data,n=pe(),a=c.a.useState(0),r=Object(l.a)(a,2),o=r[0],s=r[1],i=c.a.useState(t),j=Object(l.a)(i,2),u=j[0],d=j[1],b=c.a.useState(5),h=Object(l.a)(b,2),x=h[0],p=h[1],g=c.a.useState("username"),f=Object(l.a)(g,2),v=f[0],C=f[1];c.a.useEffect((function(){d(t)}),[t]);var k=c.a.useState(""),N=Object(l.a)(k,2),S=N[0],w=N[1],L=(Math.min(x,t.length-o*x),function(e){var n=t.filter((function(t){return"username"===v?t.user.toLowerCase().includes(e.toLowerCase()):"notes"===v?t.notes.toLowerCase().includes(e.toLowerCase()):t}));d(n)}),B=c.a.useState(null),z=Object(l.a)(B,2),P=z[0],F=z[1],M=function(e){F(null);var t=e.currentTarget.dataset.myValue;"username"===t?C("username"):"notes"===t&&C("notes")};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Oe.a,{className:n.searchBar,value:S,onChange:function(e){return L(e)},onCancelSearch:function(){return w(""),void L(S)},placeholder:"Search by ".concat(v),searchIcon:Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(se.a,{"aria-label":"filter","aria-controls":"menu-appbar","aria-haspopup":"true",id:"filterIcon",onClick:function(e){F(e.currentTarget)},color:"primary",size:"large"}),Object(y.jsxs)(O.a,{id:"simple-menu",anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:M,children:[Object(y.jsx)(m.a,{onClick:M,"data-my-value":"username",children:"Username"}),Object(y.jsx)(m.a,{onClick:M,"data-my-value":"notes",children:"Notes"})]})]})}),Object(y.jsxs)(J.a,{className:n.root,children:[Object(y.jsx)(te.a,{className:n.container,children:Object(y.jsxs)(_.a,{className:n.table,stickyHeader:!0,"aria-label":"custom pagination table",children:[Object(y.jsx)(X.a,{children:Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(ee.a,{children:"Username"}),Object(y.jsx)(ee.a,{children:"Latitude"}),Object(y.jsx)(ee.a,{children:"Longitude"}),Object(y.jsx)(ee.a,{children:"Notes"})]})}),Object(y.jsx)($.a,{children:(x>0?u.slice(o*x,o*x+x):u).map((function(e){return Object(y.jsxs)(ae.a,{children:[Object(y.jsx)(ee.a,{component:"th",scope:"row",children:e.user}),Object(y.jsx)(ee.a,{children:e.coords.lat}),Object(y.jsx)(ee.a,{children:e.coords.lng}),Object(y.jsx)(ee.a,{children:e.notes})]},e.id)}))})]})}),Object(y.jsx)(ne.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:u.length}],component:"div",colSpan:4,count:u.length,rowsPerPage:x,page:o,onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){p(parseInt(e.target.value,10)),s(0)},ActionsComponent:xe})]})]})}var fe=Object(j.a)((function(e){return{title:{marginTop:15,marginBottom:10,color:"#115293"}}}));function ve(){var e=fe(),t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],o=n[1];return c.a.useEffect((function(){(function(){var e=Object(w.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/notes").then((function(e){return e.json()})).then((function(e){o(e.notes)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(H.a,{maxWidth:!1,children:[Object(y.jsx)(M.a,{variant:"h5",className:e.title,children:"Saved Notes"}),Object(y.jsx)(ge,{data:r})]})})}function ye(){return Object(y.jsx)(s.a,{basename:"/landmark-notes",children:Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(k,{}),Object(y.jsxs)("div",{className:"content",children:[Object(y.jsx)(i.a,{exact:!0,path:"/",component:K}),Object(y.jsx)(i.a,{path:"/notes",component:ve})]})]})})}var Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,263)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},ke=n(113);(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).environment,t=void 0===e?"test":e;Object(ke.b)({environment:t,models:{note:ke.a},seeds:function(e){e.create("note",{id:0,user:"Bob",coords:{lat:-27.491629500000002,lng:153.00299619999998},notes:"It's a great place"}),e.create("note",{id:1,user:"Alice",coords:{lat:-34.397,lng:150.644},notes:"I like this place!"}),e.create("note",{id:2,user:"John",coords:{lat:-69.02297,lng:74.23768},notes:"Brrrrrr.. Really cold here.."}),e.create("note",{id:3,user:"Robert",coords:{lat:-37.63893143867902,lng:144.88835026943684},notes:"I wanna visit Melbourne again!"}),e.create("note",{id:4,user:"James",coords:{lat:35.72028634773537,lng:139.77534090889898},notes:"Japan is such a cool country! Especially Tokyo!"}),e.create("note",{id:5,user:"Mary",coords:{lat:37.55572531703634,lng:126.98968469145777},notes:"Seoulllllll! Woohoooo"}),e.create("note",{id:6,user:"Jessica",coords:{lat:-27.469895552795226,lng:153.02340426687286},notes:"Brisbane City!!!"}),e.create("note",{id:7,user:"David",coords:{lat:-26.648585573840624,lng:153.06698588396966},notes:"I like Sunshine Coast better than Gold Coast :D"})},routes:function(){this.namespace="/api",this.get("/notes",(function(e){return e.notes.all()})),this.post("/notes",(function(e,t){var n=JSON.parse(t.requestBody);return e.notes.create(n)}))}})})({environment:"production"}),o.a.render(Object(y.jsx)(ye,{}),document.getElementById("root")),Ce()}},[[205,1,2]]]);
//# sourceMappingURL=main.2debb967.chunk.js.map